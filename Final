CREATE TABLE Roles(
role_id DECIMAL(12) PRIMARY KEY,
name    VARCHAR(25)
);

CREATE TABLE Users(
user_id       DECIMAL(12)  PRIMARY KEY,
first_name    VARCHAR(25),
last_name     VARCHAR(25),
login         VARCHAR(25),
city          VARCHAR(25),
passwords     VARCHAR(25),
email         VARCHAR(50)
);

CREATE TABLE User_role(
role_id  DECIMAL(12),
FOREIGN KEY (role_id ) REFERENCES Roles(role_id ),
user_id  DECIMAL(12), 
FOREIGN KEY (user_id) REFERENCES Users(user_id)
);

CREATE TABLE Sales(
sales_id  DECIMAL(12)  PRIMARY KEY,
code       DECIMAL(9),
sales       DECIMAL(5)   	 
);

CREATE TABLE Payment(
payment_id     DECIMAL(12) PRIMARY KEY,
user_id           DECIMAL(12),
FOREIGN KEY (user_id) REFERENCES Users(user_id ),
card_number   DECIMAL(16),
date_from        DATE,
date_to            DATE,
total_price        INT
);


CREATE TABLE delivery_company(
company          	VARCHAR(50) PRIMARY KEY,
price            	INT,
numbers_of_day   	DECIMAL(3)
);

CREATE TABLE Order_Cart(
order_cart_id  DECIMAL(12) PRIMARY KEY,
total_price	INT,
user_id    	DECIMAL(12),
FOREIGN KEY (user_id) REFERENCES Users(user_id),
sales_id   	DECIMAL(12),
FOREIGN KEY (sales_id) REFERENCES Sales(sales_id),
payment_id 	DECIMAL(12),
FOREIGN KEY (payment_id) REFERENCES Payment(payment_id),
company	VARCHAR(50),
FOREIGN KEY (company) REFERENCES delivery_company(company),
date_from DATE
);


CREATE TABLE Product_photo(
photo_id DECIMAL(12) PRIMARY KEY,
url           TEXT
);

CREATE TABLE Products(
product_id   DECIMAL(12) PRIMARY KEY,
name           VARCHAR(255) NOT NULL,
description   TEXT NOT NULL,
price             INT NOT NULL,
photo_id       DECIMAL(12) ,
FOREIGN KEY (photo_id) REFERENCES Product_photo(photo_id)
);

CREATE TABLE Categories(
category_id  DECIMAL(12)  PRIMARY KEY,
name           VARCHAR(25) NOT NULL
);

CREATE TABLE Product_categories(
product_id   DECIMAL(12) ,
FOREIGN KEY (product_id) REFERENCES Products(product_id),
category_id  DECIMAL(12) ,
FOREIGN KEY (category_id) REFERENCES Categories(category_id)
);

CREATE TABLE Order_details(
quantity          INT,
order_cart_id DECIMAL(12) ,
FOREIGN KEY (order_cart_id)  REFERENCES Order_cart(order_cart_id),
product_id      DECIMAL(12),
 FOREIGN KEY (product_id) REFERENCES Products(product_id)
);

